"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function postAddToc(){var e=document.querySelector("#post>#article-container.post-content"),t=document.getElementById("card-toc");if(e&&t)for(var o=t.getElementsByClassName("toc-number"),n=t.getElementsByClassName("toc-link"),c=0;c<n.length;c++)document.getElementById(decodeURIComponent(n[c].attributes.href.value).slice(1)).dataset.toc=o[c].innerText}function switchNightMode(){document.querySelector("body").insertAdjacentHTML("beforeend",'<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>'),setTimeout(function(){document.querySelector("body").classList.contains("DarkMode")?(document.querySelector("body").classList.remove("DarkMode"),localStorage.setItem("isDark","0"),document.getElementById("modeicon").setAttribute("xlink:href","#icon-moon")):(document.querySelector("body").classList.add("DarkMode"),localStorage.setItem("isDark","1"),document.getElementById("modeicon").setAttribute("xlink:href","#icon-sun")),setTimeout(function(){document.getElementsByClassName("Cuteen_DarkSky")[0].style.transition="opacity 3s",document.getElementsByClassName("Cuteen_DarkSky")[0].style.opacity="0",setTimeout(function(){document.getElementsByClassName("Cuteen_DarkSky")[0].remove()},1e3)},2e3)}),"light"===("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night),document.getElementById("modeicon").setAttribute("xlink:href","#icon-sun")):(activateLightMode(),saveToLocal.set("theme","light",2),document.querySelector("body").classList.add("DarkMode"),document.getElementById("modeicon").setAttribute("xlink:href","#icon-moon")),"function"==typeof utterancesTheme&&utterancesTheme(),"object"===("undefined"==typeof FB?"undefined":_typeof(FB))&&window.loadFBComment(),window.DISQUS&&document.getElementById("disqus_thread").children.length&&setTimeout(function(){return window.disqusReset()},200)}function tagsBarActive(){var e=window.location.pathname;if("/"==(e=decodeURIComponent(e)))document.querySelector("#tags-bar")&&document.getElementById("首页").classList.add("select");else{if(/\/tags\/.*?\//.test(e)){var t=e.split("/")[2];document.querySelector("#category-bar")&&document.getElementById(t).classList.add("select")}}}function categoriesBarActive(){var e=window.location.pathname;if(e=decodeURIComponent(e),console.log(e),"/"==e)document.querySelector("#category-bar")&&document.getElementById("site-subtitle").classList.add("select");else{var t=/\/categories\/.*?\//.test(e);if(console.log(t),t){var o=e.split("/");console.log(o[2]);var n=o[2];document.querySelector("#category-bar")&&document.getElementById(n).classList.add("select")}}}function topCategoriesBarScroll(){if(document.getElementById("category-bar-items")){var o=document.getElementById("category-bar-items");o.addEventListener("mousewheel",function(e){var t=-e.wheelDelta/2;o.scrollLeft+=t,e.preventDefault()},!1)}}postAddToc(),document.addEventListener("keydown",function(e){e.ctrlKey&&"k"===e.key&&(e.preventDefault(),document.getElementById("search-button").querySelector("a").click())}),document.addEventListener("keydown",function(e){e.ctrlKey&&"m"===e.key&&(e.preventDefault(),window.location.href="/categories/common/")}),document.addEventListener("keydown",function(e){e.ctrlKey&&"b"===e.key&&(e.preventDefault(),window.location.href="/tags")}),document.addEventListener("copy",function(e){toastr.options={closeButton:!1,debug:!1,progressBar:!0,positionClass:"toast-top-left",onclick:null,showDuration:"300",hideDuration:"300",timeOut:"2500",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.success("如果转载，请保留原文链接哦(●ˇ∀ˇ●)","复制成功！！！")}),tagsBarActive(),topCategoriesBarScroll(),categoriesBarActive();